-- ExperienceGui LocalScript (Enhanced Version)
-- Place this as a LocalScript in StarterPlayerScripts or use an executor

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local HttpService = game:GetService("HttpService")
local Lighting = game:GetService("Lighting")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "ExperienceGui"
screenGui.Parent = playerGui
screenGui.ResetOnSpawn = false

-- Main Frame (Modern sleek design)
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 0, 0, 0)
mainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
mainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui
mainFrame.ClipsDescendants = true

-- Rounded corners for mainFrame
local mainCorner = Instance.new("UICorner")
mainCorner.CornerRadius = UDim.new(0, 16)
mainCorner.Parent = mainFrame

-- Main Gradient
local mainGradient = Instance.new("UIGradient")
mainGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(45, 45, 60)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(15, 15, 25))
}
mainGradient.Rotation = 135
mainGradient.Parent = mainFrame

-- Shadow effect (using a duplicated frame)
local shadowFrame = mainFrame:Clone()
shadowFrame.Name = "Shadow"
shadowFrame.Size = UDim2.new(1, 20, 1, 20)
shadowFrame.Position = UDim2.new(0, -10, 0, -10)
shadowFrame.BackgroundTransparency = 0.7
shadowFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
shadowFrame.ZIndex = mainFrame.ZIndex - 1
shadowFrame.Parent = mainFrame.Parent
shadowFrame.ClipsDescendants = false

-- Password Frame (initially visible with slide-in animation)
local passwordFrame = Instance.new("Frame")
passwordFrame.Name = "PasswordFrame"
passwordFrame.Size = UDim2.new(1, 0, 1, 0)
passwordFrame.Position = UDim2.new(0, 0, 0, 0)
passwordFrame.BackgroundTransparency = 1
passwordFrame.Parent = mainFrame

-- Title Label with fade-in
local titleLabel = Instance.new("TextLabel")
titleLabel.Name = "TitleLabel"
titleLabel.Size = UDim2.new(1, 0, 0, 60)
titleLabel.Position = UDim2.new(0, 0, 0, 20)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "Enter Password to Unlock"
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.TextScaled = true
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextTransparency = 1
titleLabel.Parent = passwordFrame

-- Animate title fade-in
TweenService:Create(titleLabel, TweenInfo.new(0.8, Enum.EasingStyle.Quart), {TextTransparency = 0}):Play()

-- Password TextBox with sleek design
local passwordBox = Instance.new("TextBox")
passwordBox.Name = "PasswordBox"
passwordBox.Size = UDim2.new(0.8, 0, 0, 50)
passwordBox.Position = UDim2.new(0.1, 0, 0, 100)
passwordBox.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
passwordBox.BorderSizePixel = 0
passwordBox.Text = ""
passwordBox.PlaceholderText = "Password..."
passwordBox.TextColor3 = Color3.fromRGB(200, 200, 200)
passwordBox.TextScaled = true
passwordBox.Font = Enum.Font.Gotham
passwordBox.Parent = passwordFrame
passwordBox.TextXAlignment = Enum.TextXAlignment.Left
passwordBox.TextTransparency = 1

local passwordCorner = Instance.new("UICorner")
passwordCorner.CornerRadius = UDim.new(0, 12)
passwordCorner.Parent = passwordBox

-- Animate password box slide-up
TweenService:Create(passwordBox, TweenInfo.new(0.6, Enum.EasingStyle.Back), {
    Position = UDim2.new(0.1, 0, 0, 90),
    TextTransparency = 0
}):Play()

-- Unlock Button with pulse animation
local unlockButton = Instance.new("TextButton")
unlockButton.Name = "UnlockButton"
unlockButton.Size = UDim2.new(0.8, 0, 0, 50)
unlockButton.Position = UDim2.new(0.1, 0, 0, 170)
unlockButton.BackgroundColor3 = Color3.fromRGB(100, 150, 255)
unlockButton.BorderSizePixel = 0
unlockButton.Text = "Unlock"
unlockButton.TextColor3 = Color3.fromRGB(255, 255, 255)
unlockButton.TextScaled = true
unlockButton.Font = Enum.Font.GothamBold
unlockButton.Parent = passwordFrame

local unlockCorner = Instance.new("UICorner")
unlockCorner.CornerRadius = UDim.new(0, 12)
unlockCorner.Parent = unlockButton

-- Button animations
local function buttonHover(button, hoverColor)
    TweenService:Create(button, TweenInfo.new(0.2, Enum.EasingStyle.Quart), {BackgroundColor3 = hoverColor}):Play()
end

unlockButton.MouseEnter:Connect(function()
    buttonHover(unlockButton, Color3.fromRGB(120, 170, 255))
end)
unlockButton.MouseLeave:Connect(function()
    buttonHover(unlockButton, Color3.fromRGB(100, 150, 255))
end)

-- Pulse animation for button
spawn(function()
    while passwordFrame.Visible do
        TweenService:Create(unlockButton, TweenInfo.new(1.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {Size = UDim2.new(0.82, 0, 0, 52)}):Play()
        wait(3)
    end
end)

-- Animate unlock button slide-up
TweenService:Create(unlockButton, TweenInfo.new(0.6, Enum.EasingStyle.Back), {Position = UDim2.new(0.1, 0, 0, 160)}):Play()

-- Tabs Frame (initially invisible)
local tabsFrame = Instance.new("Frame")
tabsFrame.Name = "TabsFrame"
tabsFrame.Size = UDim2.new(1, 0, 1, 0)
tabsFrame.Position = UDim2.new(0, 0, 0, 0)
tabsFrame.BackgroundTransparency = 1
tabsFrame.Parent = mainFrame
tabsFrame.Visible = false

-- Tab Buttons Frame (Modern tab bar)
local tabButtons = Instance.new("Frame")
tabButtons.Name = "TabButtons"
tabButtons.Size = UDim2.new(1, 0, 0, 50)
tabButtons.Position = UDim2.new(0, 0, 0, 0)
tabButtons.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
tabButtons.BorderSizePixel = 0
tabButtons.Parent = tabsFrame

local tabCorner = Instance.new("UICorner")
tabCorner.CornerRadius = UDim.new(0, 16)
tabCorner.Parent = tabButtons

-- Add tab buttons
local tabs = {"Console", "Basic Needs", "Info"}
local tabButtonsList = {}

for i, tabName in ipairs(tabs) do
    local tabButton = Instance.new("TextButton")
    tabButton.Name = tabName .. "Tab"
    tabButton.Size = UDim2.new(1/#tabs, 0, 1, 0)
    tabButton.Position = UDim2.new((i-1)/#tabs, 0, 0, 0)
    tabButton.BackgroundColor3 = Color3.fromRGB(45, 45, 55)
    tabButton.BorderSizePixel = 0
    tabButton.Text = tabName
    tabButton.TextColor3 = Color3.fromRGB(200, 200, 200)
    tabButton.TextScaled = true
    tabButton.Font = Enum.Font.GothamSemibold
    tabButton.Parent = tabButtons
    
    local buttonCorner = Instance.new("UICorner")
    buttonCorner.CornerRadius = UDim.new(0, 12)
    buttonCorner.Parent = tabButton
    
    tabButtonsList[tabName] = tabButton
    
    -- Hover effect
    tabButton.MouseEnter:Connect(function()
        if not tabButton.BackgroundColor3 == Color3.fromRGB(100, 150, 255) then
            TweenService:Create(tabButton, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(55, 55, 65)}):Play()
        end
    end)
    tabButton.MouseLeave:Connect(function()
        if not tabButton.BackgroundColor3 == Color3.fromRGB(100, 150, 255) then
            TweenService:Create(tabButton, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(45, 45, 55)}):Play()
        end
    end)
end

-- Content Frame with scrolling
local contentFrame = Instance.new("ScrollingFrame")
contentFrame.Name = "ContentFrame"
contentFrame.Size = UDim2.new(1, 0, 1, -50)
contentFrame.Position = UDim2.new(0, 0, 0, 50)
contentFrame.BackgroundTransparency = 1
contentFrame.BorderSizePixel = 0
contentFrame.ScrollBarThickness = 6
contentFrame.ScrollBarImageColor3 = Color3.fromRGB(100, 150, 255)
contentFrame.Parent = tabsFrame

local contentLayout = Instance.new("UIListLayout")
contentLayout.SortOrder = Enum.SortOrder.LayoutOrder
contentLayout.Padding = UDim.new(0, 10)
contentLayout.Parent = contentFrame

-- Console Content (Loader as console)
local consoleContent = Instance.new("Frame")
consoleContent.Name = "ConsoleContent"
consoleContent.Size = UDim2.new(1, -20, 0, 400)
consoleContent.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
consoleContent.BorderSizePixel = 0
consoleContent.LayoutOrder = 1
consoleContent.Parent = contentFrame
consoleContent.Visible = true

local consoleCorner = Instance.new("UICorner")
consoleCorner.CornerRadius = UDim.new(0, 12)
consoleCorner.Parent = consoleContent

-- Console output text (multi-line)
local consoleOutput = Instance.new("TextLabel")
consoleOutput.Name = "ConsoleOutput"
consoleOutput.Size = UDim2.new(1, 0, 1, 0)
consoleOutput.Position = UDim2.new(0, 0, 0, 0)
consoleOutput.BackgroundTransparency = 1
consoleOutput.Text = "> Initializing Console...\n> Loading VapeVoidware...\n> Fetching script from GitHub...\n> Executing loader.lua...\n> Loader activated successfully!\n> Type commands below (e.g., 'help' for commands)"
consoleOutput.TextColor3 = Color3.fromRGB(0, 255, 0)
consoleOutput.TextScaled = false
consoleOutput.TextSize = 14
consoleOutput.Font = Enum.Font.Code
consoleOutput.TextXAlignment = Enum.TextXAlignment.Left
consoleOutput.TextYAlignment = Enum.TextYAlignment.Top
consoleOutput.TextWrapped = true
consoleOutput.Parent = consoleContent

-- Simple input for console (placeholder, can expand)
local consoleInput = Instance.new("TextBox")
consoleInput.Size = UDim2.new(1, 0, 0, 30)
consoleInput.Position = UDim2.new(0, 0, 1, -30)
consoleInput.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
consoleInput.BorderSizePixel = 0
consoleInput.Text = "> "
consoleInput.PlaceholderText = "> Enter command..."
consoleInput.TextColor3 = Color3.fromRGB(255, 255, 255)
consoleInput.TextXAlignment = Enum.TextXAlignment.Left
consoleInput.Font = Enum.Font.Code
consoleInput.TextSize = 14
consoleInput.Parent = consoleContent

local inputCorner = Instance.new("UICorner")
inputCorner.CornerRadius = UDim.new(0, 8)
inputCorner.Parent = consoleInput

-- Basic Needs Content
local basicContent = Instance.new("Frame")
basicContent.Name = "BasicContent"
basicContent.Size = UDim2.new(1, -20, 0, 500)
basicContent.BackgroundTransparency = 1
basicContent.LayoutOrder = 2
basicContent.Visible = false
basicContent.Parent = contentFrame

-- Fly Button (Improved fly script)
local flyButton = Instance.new("TextButton")
flyButton.Name = "FlyButton"
flyButton.Size = UDim2.new(0.9, 0, 0, 50)
flyButton.Position = UDim2.new(0.05, 0, 0, 0)
flyButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
flyButton.BorderSizePixel = 0
flyButton.Text = "Fly: OFF"
flyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
flyButton.TextScaled = true
flyButton.Font = Enum.Font.GothamBold
flyButton.Parent = basicContent

local flyCorner = Instance.new("UICorner")
flyCorner.CornerRadius = UDim.new(0, 12)
flyCorner.Parent = flyButton

-- Speed Slider (TextBox for mobile)
local speedFrame = Instance.new("Frame")
speedFrame.Name = "SpeedFrame"
speedFrame.Size = UDim2.new(0.9, 0, 0, 60)
speedFrame.Position = UDim2.new(0.05, 0, 0, 60)
speedFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
speedFrame.BorderSizePixel = 0
speedFrame.Parent = basicContent

local speedCorner = Instance.new("UICorner")
speedCorner.CornerRadius = UDim.new(0, 12)
speedCorner.Parent = speedFrame

local speedLabel = Instance.new("TextLabel")
speedLabel.Size = UDim2.new(1, 0, 0.5, 0)
speedLabel.BackgroundTransparency = 1
speedLabel.Text = "Walk Speed"
speedLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
speedLabel.TextScaled = true
speedLabel.Font = Enum.Font.Gotham
speedLabel.Parent = speedFrame

local speedInput = Instance.new("TextBox")
speedInput.Size = UDim2.new(1, 0, 0.5, 0)
speedInput.Position = UDim2.new(0, 0, 0.5, 0)
speedInput.BackgroundTransparency = 1
speedInput.Text = "16"
speedInput.PlaceholderText = "Speed (16 default)"
speedInput.TextColor3 = Color3.fromRGB(255, 255, 255)
speedInput.TextScaled = true
speedInput.Font = Enum.Font.Gotham
speedInput.Parent = speedFrame

-- Jump Power
local jumpFrame = Instance.new("Frame")
jumpFrame.Name = "JumpFrame"
jumpFrame.Size = UDim2.new(0.9, 0, 0, 60)
jumpFrame.Position = UDim2.new(0.05, 0, 0, 130)
jumpFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
jumpFrame.BorderSizePixel = 0
jumpFrame.Parent = basicContent

local jumpCorner = Instance.new("UICorner")
jumpCorner.CornerRadius = UDim.new(0, 12)
jumpCorner.Parent = jumpFrame

local jumpLabel = Instance.new("TextLabel")
jumpLabel.Size = UDim2.new(1, 0, 0.5, 0)
jumpLabel.BackgroundTransparency = 1
jumpLabel.Text = "Jump Power"
jumpLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
jumpLabel.TextScaled = true
jumpLabel.Font = Enum.Font.Gotham
jumpLabel.Parent = jumpFrame

local jumpInput = Instance.new("TextBox")
jumpInput.Size = UDim2.new(1, 0, 0.5, 0)
jumpInput.Position = UDim2.new(0, 0, 0.5, 0)
jumpInput.BackgroundTransparency = 1
jumpInput.Text = "50"
jumpInput.PlaceholderText = "Jump (50 default)"
jumpInput.TextColor3 = Color3.fromRGB(255, 255, 255)
jumpInput.TextScaled = true
jumpInput.Font = Enum.Font.Gotham
jumpInput.Parent = jumpFrame

-- Noclip Toggle
local noclipButton = Instance.new("TextButton")
noclipButton.Name = "NoclipButton"
noclipButton.Size = UDim2.new(0.9, 0, 0, 50)
noclipButton.Position = UDim2.new(0.05, 0, 0, 200)
noclipButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
noclipButton.BorderSizePixel = 0
noclipButton.Text = "Noclip: OFF"
noclipButton.TextColor3 = Color3.fromRGB(255, 255, 255)
noclipButton.TextScaled = true
noclipButton.Font = Enum.Font.GothamBold
noclipButton.Parent = basicContent

local noclipCorner = Instance.new("UICorner")
noclipCorner.CornerRadius = UDim.new(0, 12)
noclipCorner.Parent = noclipButton

local noclipping = false
local noclipConnection

-- Infinite Jump Toggle
local infJumpButton = Instance.new("TextButton")
infJumpButton.Name = "InfJumpButton"
infJumpButton.Size = UDim2.new(0.9, 0, 0, 50)
infJumpButton.Position = UDim2.new(0.05, 0, 0, 270)
infJumpButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
infJumpButton.BorderSizePixel = 0
infJumpButton.Text = "Infinite Jump: OFF"
infJumpButton.TextColor3 = Color3.fromRGB(255, 255, 255)
infJumpButton.TextScaled = true
infJumpButton.Font = Enum.Font.GothamBold
infJumpButton.Parent = basicContent

local infJumpCorner = Instance.new("UICorner")
infJumpCorner.CornerRadius = UDim.new(0, 12)
infJumpCorner.Parent = infJumpButton

local infJumping = false

-- Info Content
local infoContent = Instance.new("Frame")
infoContent.Name = "InfoContent"
infoContent.Size = UDim2.new(1, -20, 0, 400)
infoContent.BackgroundTransparency = 1
infoContent.LayoutOrder = 3
infoContent.Visible = false
infoContent.Parent = contentFrame

local infoLayout = Instance.new("UIListLayout")
infoLayout.SortOrder = Enum.SortOrder.LayoutOrder
infoLayout.Padding = UDim.new(0, 5)
infoLayout.Parent = infoContent

-- Player Info Label
local playerInfo = Instance.new("TextLabel")
playerInfo.Size = UDim2.new(1, 0, 0, 100)
playerInfo.BackgroundTransparency = 1
playerInfo.Text = string.format("Player: %s\nUser ID: %d\nDisplay Name: %s\nTeam: %s\nHealth: %.1f / %.1f", 
    player.Name, player.UserId, player.DisplayName, player.Team and player.Team.Name or "None", 
    player.Character and player.Character:FindFirstChild("Humanoid") and player.Character.Humanoid.Health or 0, 
    player.Character and player.Character:FindFirstChild("Humanoid") and player.Character.Humanoid.MaxHealth or 0)
playerInfo.TextColor3 = Color3.fromRGB(255, 255, 255)
playerInfo.TextScaled = true
playerInfo.Font = Enum.Font.Gotham
playerInfo.TextXAlignment = Enum.TextXAlignment.Left
playerInfo.TextYAlignment = Enum.TextYAlignment.Top
playerInfo.TextWrapped = true
playerInfo.Parent = infoContent

-- Client Info Label
local clientInfo = Instance.new("TextLabel")
clientInfo.Size = UDim2.new(1, 0, 0, 100)
clientInfo.BackgroundTransparency = 1
clientInfo.Text = "Client Info:\nFPS: Calculating...\nPing: N/A\nDevice: Unknown"
clientInfo.TextColor3 = Color3.fromRGB(255, 255, 255)
clientInfo.TextScaled = true
clientInfo.Font = Enum.Font.Gotham
clientInfo.TextXAlignment = Enum.TextXAlignment.Left
clientInfo.TextYAlignment = Enum.TextYAlignment.Top
clientInfo.TextWrapped = true
clientInfo.Parent = infoContent

-- FPS calculation
local lastTime = tick()
local frameCount = 0
RunService.Heartbeat:Connect(function()
    frameCount = frameCount + 1
    if tick() - lastTime >= 1 then
        local fps = frameCount / (tick() - lastTime)
        clientInfo.Text = clientInfo.Text:gsub("FPS: Calculating...", string.format("FPS: %.0f", fps))
        frameCount = 0
        lastTime = tick()
    end
end)

-- Supported Games Label
local gamesLabel = Instance.new("TextLabel")
gamesLabel.Size = UDim2.new(1, 0, 0, 150)
gamesLabel.BackgroundTransparency = 1
gamesLabel.Text = "Supported Games (Auto-Script Execution):\n- 99 Nights in the Forest\n- Ink Game\n- Forsaken"
gamesLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
gamesLabel.TextScaled = true
gamesLabel.Font = Enum.Font.GothamBold
gamesLabel.TextXAlignment = Enum.TextXAlignment.Left
gamesLabel.TextYAlignment = Enum.TextYAlignment.Top
gamesLabel.TextWrapped = true
gamesLabel.Parent = infoContent

-- Fly variables (Improved for better compatibility)
local flying = false
local flySpeed = 50
local flyConnection
local bg = nil
local bv = nil

local function createFly()
    local char = player.Character
    if not char or not char:FindFirstChild("HumanoidRootPart") then return end
    local humanoid = char:FindFirstChild("Humanoid")
    if not humanoid then return end
    
    flying = true
    flyButton.Text = "Fly: ON"
    flyButton.BackgroundColor3 = Color3.fromRGB(50, 255, 50)
    
    bg = Instance.new("BodyGyro")
    bg.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
    bg.P = 9e4
    bg.Parent = char.HumanoidRootPart
    
    bv = Instance.new("BodyVelocity")
    bv.MaxForce = Vector3.new(9e9, 9e9, 9e9)
    bv.Velocity = Vector3.new(0, 0, 0)
    bv.Parent = char.HumanoidRootPart
    
    flyConnection = RunService.Heartbeat:Connect(function()
        if not flying or not char or not char:FindFirstChild("HumanoidRootPart") then return end
        
        local cam = workspace.CurrentCamera
        local move = humanoid.MoveDirection
        if move.Magnitude < 0.1 then move = Vector3.new(0, 0, 0) end
        
        local vel = cam.CFrame:VectorToWorldSpace(move)
        vel = Vector3.new(vel.X * flySpeed, 0, vel.Z * flySpeed)
        
        if UserInputService:IsKeyDown(Enum.KeyCode.Space) or UserInputService:IsKeyDown(Enum.KeyCode.E) then
            vel = vel + Vector3.new(0, flySpeed, 0)
        elseif UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) or UserInputService:IsKeyDown(Enum.KeyCode.Q) then
            vel = vel - Vector3.new(0, flySpeed, 0)
        end
        
        bg.CFrame = cam.CFrame
        bv.Velocity = vel
    end)
end

local function stopFly()
    flying = false
    flyButton.Text = "Fly: OFF"
    flyButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
    
    if flyConnection then flyConnection:Disconnect() end
    if bg then bg:Destroy() end
    if bv then bv:Destroy() end
end

flyButton.MouseButton1Click:Connect(function()
    if player.Character then
        if flying then
            stopFly()
        else
            createFly()
        end
    end
end)

-- Noclip
noclipButton.MouseButton1Click:Connect(function()
    noclipping = not noclipping
    noclipButton.Text = "Noclip: " .. (noclipping and "ON" or "OFF")
    noclipButton.BackgroundColor3 = noclipping and Color3.fromRGB(50, 255, 50) or Color3.fromRGB(255, 50, 50)
    
    if noclipping then
        noclipConnection = RunService.Stepped:Connect(function()
            if player.Character then
                for _, part in pairs(player.Character:GetChildren()) do
                    if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
                        part.CanCollide = false
                    end
                end
            end
        end)
    else
        if noclipConnection then noclipConnection:Disconnect() end
        if player.Character then
            for _, part in pairs(player.Character:GetChildren()) do
                if part:IsA("BasePart") then
                    part.CanCollide = true
                end
            end
        end
    end
end)

-- Infinite Jump
infJumpButton.MouseButton1Click:Connect(function()
    infJumping = not infJumping
    infJumpButton.Text = "Infinite Jump: " .. (infJumping and "ON" or "OFF")
    infJumpButton.BackgroundColor3 = infJumping and Color3.fromRGB(50, 255, 50) or Color3.fromRGB(255, 50, 50)
end)

UserInputService.JumpRequest:Connect(function()
    if infJumping and player.Character then
        local humanoid = player.Character:FindFirstChild("Humanoid")
        if humanoid then
            humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
        end
    end
end)

-- Speed and Jump updates
local function updateStats()
    local char = player.Character
    if char then
        local hum = char:FindFirstChild("Humanoid")
        if hum then
            local speed = tonumber(speedInput.Text) or 16
            hum.WalkSpeed = speed
            local jump = tonumber(jumpInput.Text) or 50
            hum.JumpPower = jump
        end
    end
end

speedInput.FocusLost:Connect(updateStats)
jumpInput.FocusLost:Connect(updateStats)

-- Tab switching with slide animation
local currentContent = consoleContent
local function switchTab(tabName)
    for _, content in pairs(contentFrame:GetChildren()) do
        if content:IsA("Frame") then
            content.Visible = false
            TweenService:Create(content, TweenInfo.new(0.3, Enum.EasingStyle.Quart), {Size = UDim2.new(1, -20, 0, 0)}):Play()
        end
    end
    
    local targetContent = (tabName == "Console" and consoleContent) or (tabName == "Basic Needs" and basicContent) or infoContent
    targetContent.Visible = true
    TweenService:Create(targetContent, TweenInfo.new(0.3, Enum.EasingStyle.Back), {Size = targetContent.Size}):Play()
    currentContent = targetContent
    
    for tab, button in pairs(tabButtonsList) do
        button.BackgroundColor3 = (tab == tabName) and Color3.fromRGB(100, 150, 255) or Color3.fromRGB(45, 45, 55)
        button.TextColor3 = (tab == tabName) and Color3.fromRGB(255, 255, 255) or Color3.fromRGB(200, 200, 200)
    end
end

for tabName, button in pairs(tabButtonsList) do
    button.MouseButton1Click:Connect(function()
        switchTab(tabName)
    end)
end

-- Unlock logic with enhanced animation
unlockButton.MouseButton1Click:Connect(function()
    if passwordBox.Text == "CoolDownExperience" then
        -- Run the loader (console already shows message)
        loadstring(game:HttpGet("https://raw.githubusercontent.com/VapeVoidware/VW-Add/main/loader.lua", true))()
        
        -- Hide password, show tabs
        TweenService:Create(passwordFrame, TweenInfo.new(0.4, Enum.EasingStyle.Quart), {Position = UDim2.new(0, 0, -1, 0)}):Play()
        wait(0.4)
        passwordFrame.Visible = false
        tabsFrame.Visible = true
        
        -- Expand main frame with sleek animation
        TweenService:Create(mainFrame, TweenInfo.new(0.6, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
            Size = UDim2.new(0, 500, 0, 400)
        }):Play()
        
        -- Slide in tabs
        TweenService:Create(tabButtons, TweenInfo.new(0.4, Enum.EasingStyle.Quart), {Position = UDim2.new(0, 0, 0, 0)}):Play()
        switchTab("Console")
    else
        -- Shake animation for wrong password
        local originalPos = passwordBox.Position
        TweenService:Create(passwordBox, TweenInfo.new(0.05, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut, 0, false), {Position = UDim2.new(0.1, -10, 0, 90)}):Play()
        wait(0.05)
        TweenService:Create(passwordBox, TweenInfo.new(0.05, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut, 0, false), {Position = UDim2.new(0.1, 10, 0, 90)}):Play()
        wait(0.05)
        TweenService:Create(passwordBox, TweenInfo.new(0.05, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut, 0, false), {Position = originalPos}):Play()
    end
end)

-- Initial entrance animation
mainFrame.Size = UDim2.new(0, 0, 0, 0)
TweenService:Create(mainFrame, TweenInfo.new(0.7, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
    Size = UDim2.new(0, 350, 0, 280),
    Position = UDim2.new(0.5, -175, 0.5, -140)
}):Play()

-- Update player info periodically
spawn(function()
    while true do
        if player.Character and player.Character:FindFirstChild("Humanoid") then
            playerInfo.Text = string.format("Player: %s\nUser ID: %d\nDisplay Name: %s\nTeam: %s\nHealth: %.1f / %.1f", 
                player.Name, player.UserId, player.DisplayName, player.Team and player.Team.Name or "None", 
                player.Character.Humanoid.Health, player.Character.Humanoid.MaxHealth)
        end
        wait(1)
    end
end)

-- Cleanup on character respawn
player.CharacterAdded:Connect(function()
    stopFly()
    if noclipping then
        noclipping = false
        noclipButton.Text = "Noclip: OFF"
        noclipButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
    end
    updateStats()
end)
